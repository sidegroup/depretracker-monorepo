<!-- src/app/components/dataset/dataset.component.html -->
<div class="full-page-container">
  <mat-card class="full-height-card">
    <mat-card-header>
      <mat-card-title>Dataset</mat-card-title>
    </mat-card-header>

    <mat-card-content class="card-content">
      <!-- Controles superiores -->
      <div class="controls-container">
        <mat-button-toggle-group [(value)]="selectedDataType" aria-label="Tipo de dados">
          <mat-button-toggle value="submissions">Postagens</mat-button-toggle>
          <mat-button-toggle value="comments">Comentários</mat-button-toggle>
        </mat-button-toggle-group>

        <button mat-raised-button 
                color="primary"
                (click)="loadData()"
                class="list-button">
          <mat-icon>refresh</mat-icon>
          Listar
        </button>

        <mat-radio-group [(ngModel)]="selectedFormat" class="export-radio-group">
          <mat-radio-button value="csv">CSV</mat-radio-button>
          <mat-radio-button value="json">JSON</mat-radio-button>
        </mat-radio-group>

        <button mat-raised-button 
                color="accent"
                (click)="export(selectedDataType, selectedFormat)"
                class="download-button">
          <mat-icon>download</mat-icon>
          Download
        </button>
      </div>

      <!-- Estado de carregamento -->
      <div *ngIf="isLoading" class="loading-state">
        <mat-spinner [diameter]="40"></mat-spinner>
        <p>Carregando dados...</p>
      </div>

      <!-- Conteúdo das tabelas -->
      <div class="table-container">
        <!-- Tabela de Postagens -->
        <div *ngIf="!isLoading && selectedDataType === 'submissions'" class="table-wrapper">
          <mat-table [dataSource]="submissions" class="mat-elevation-z8">
            <!-- Colunas... -->
          </mat-table>
          <mat-paginator [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
        </div>

        <!-- Tabela de Comentários -->
        <div *ngIf="!isLoading && selectedDataType === 'comments'" class="table-wrapper">
          <mat-table [dataSource]="comments" class="mat-elevation-z8">
            <!-- Colunas... -->
          </mat-table>
          <mat-paginator [pageSizeOptions]="[5, 10, 20]"></mat-paginator>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>